# BufferedReader / BufferedWriter

### 버퍼

---

- 데이터를 한 곳에서 다른 곳으로 전송하는 동안 일시적으로 그 데이터를 보관하는 임시 메모리 영역
- 입출력 속도 향상을 위해 버퍼 사용

**버퍼 플러쉬(buffer flush)**

버퍼에 남아있는 데이터를 출력시킴(버퍼를 비우는 동작)

![스크린샷 2023-01-06 오후 3.47.37.png](BufferedReader%20BufferedWriter%20ed8ee595ccba4752965ae50f4b2b9260/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-01-06_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_3.47.37.png)

버퍼를 거쳐가는 데 왜 빠르냐고?

하드디스크나 외부 장치와의 데이터 입출력은 시간이 오래 걸린다.

따라서 중간에 메모리 버퍼를 두고 한꺼번에 묶어서 이동시키는 것이 효율적이고 빠르다.

### BufferdReader, BufferedWriter

---

- 버퍼를 이용해 읽고 쓰는 함수
- 버퍼를 이용하기 때문에 입출력의 효율이 좋아진다.

BufferedReader : 버퍼를 이용한 입력 (→ Scanner와 유사)

BufferedWriter : 버퍼를 이용한 출력 (→ System.out.println과 유사)

위 두개를 사용하기 위해서 다음의 추가 import가 필요하다.

```java
import java.io.BufferedReader;
import java.io.BufferedWriter;
import java.io.InputStreamReader;
import java.io.OutputStreamWriter;
```

### Scanner과 비교

---

BufferedReader은 Enter만 경계로 인식하고 받은 데이터를 String으로 고정한다.

### BufferdReader사용법

---

```java
BufferedReader bf = new BufferedReader(new InputStreamReader(System.in)); //선언
String s = bf.readLine(); //String
int i = Integer.parseInt(bf.readLine()); //Int
```

1. 입력은 readLine()을 사용하여 한 줄을 입력받는다.
    
    하지만, 무조건 return 값이 String이기 떄문에
    
    다른 타입으로 입력을 받으려면  변환을 해주어야 한다.
    
2. throws IOException을 이용해서 예외처리를 해주어야 한다.

### 타입 변환하기

---

```java
StringTokenizer st = new StringTokenizer(s); //StringTokenizer인자값에 입력 문자열 넣음
int a = Integer.parseInt(st.nextToken()); //첫번째 호출
int b = Integer.parseInt(st.nextToken()); //두번째 호출

String array[] = s.split(" "); //공백마다 데이터 끊어서 배열에 넣음
```

BufferedReader을 이용하면 Line 단위로만 나눠지기에 공백 단위로 구분하려면 따로 작업을 해주어야 한다.

1. StringTokenizer에 nextToken()을 쓰면 입력받은 값을 공백단위로 구분할 수 있다.
2. String.split()함수를 이요하여 배열에 공백단위로 끊어서 데이터를 넣고 사용한다.

### BufferedWriter사용법

---

```java
BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(System.out));   //할당된 버퍼에 값 넣어주기
String s = "abcdefg";   //출력할 문자열
bw.write(s+"\n");   //버퍼에 있는 값 전부 출력
bw.flush();   //남아있는 데이터를 모두 출력시킴
bw.close();   //스트림을 닫음
```

1. flush(), close()를 호출해야한다.
2. bw.write()에는 개행기능이 없기에 자동으로 개행을 해주어야 한다.